{% import "bootstrap/wtf.html" as wtf %}

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Help Me Recipe</title>

    <!-- Font Awesome -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<!-- Bootstrap core CSS -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet">
<!-- Material Design Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.5.11/css/mdb.min.css" rel="stylesheet">
<!-- JQuery -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<!-- Bootstrap tooltips -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.4/umd/popper.min.js"></script>
<!-- Bootstrap core JavaScript -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js"></script>
<!-- MDB core JavaScript -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.5.11/js/mdb.min.js"></script>

</head>

<style>
        body{
         font-family: 'Poppins', sans-serif;
               background-image: url(/static/Images/bg.png);
               background-size: 100%;
               margin:0;
             }
       </style>

{% block body %}
{% include 'includes/navbar.html' %}
<div style="background-image: url(../static/Images/bg.png)">
    <main class=" pt-4">
        <!--<form action="" method = "POST" enctype="multipart/form-data" > -->

            <h5 class="text-center text-light">Create a Recipe</h5>
            <div class="container text-light mt-5">

                <!--Grid row-->
                <div class="row wow fadeIn">

                    <!--Grid column-->
                    <div class="col-md-6 mb-4">

                       <!-- <img src="../static/Images/lasagna.jpg" class="img-fluid" alt="">-->

                    </div>
                    <!--Grid column-->

                    <!--Grid column-->
                    <div class="col-md-6 mb-4">

                        <!--Content-->
                        <div class="p-4">
                            <!--<input class="form-control" type="text" placeholder="Enter Recipe Name" name='food'>-->
                            {{ form.hidden_tag() }}
                            {{ wtf.form_field(form.recipePic)}}
                            {{ wtf.form_field(form.rec_name, class_="form-control", placeholder="Enter Recipe Name") }}
                            <br>
                            <!--<input class="form-control" type="text" placeholder="Enter Prep Time" name='prep-time'>-->
                            {{ wtf.form_field(form.prep_time, class_="form-control", placeholder="Enter Prep Time") }}
                            <br>
                            <!--<input class="form-control" type="text" placeholder="Enter Cook Time" name='cook-time'>-->
                            {{ wtf.form_field(form.cook_time, class_="form-control", placeholder="Enter Cook Time") }}
                            <br>
                            <!--<input class="form-control" type="text" placeholder="Enter Description" name='description'>
                            <br>-->
                            Price Range
                            <!--<input class="form-control" type="text" placeholder="Minimum Price" name="minPrice">-->
                            {{ wtf.form_field(form.minPrice, class_="form-control", placeholder="Minimum Price") }}
                            <br>
                            <!--<input class="form-control" type="text" placeholder="Maximum Price" name="maxPrice">-->
                            {{ wtf.form_field(form.maxPrice, class_="form-control", placeholder="Maximum Price") }}
                            <br>
                            <label for="exampleFormControlTextarea1">Recipe Description (include tags/cuisine here)</label>
                            <!--<textarea class="form-control rounded-0" id="exampleFormControlTextarea1" rows="5" name="instruction"></textarea>-->
                            {{ wtf.form_field(form.rec_description, class_="form-control rounded-0", rows="5") }}
                            <br>

                            <style type="text/css">
                                [data-role="dynamic-fields"] > .form-inline [data-role="add"] {
                                    display: none;
                                }

                                [data-role="dynamic-fields"] > .form-inline:last-child [data-role="add"] {
                                    display: inline-block;
                                }

                                [data-role="dynamic-fields"] > .form-inline:last-child [data-role="remove"] {
                                    display: none;
                                }
                            </style>

                            <div class="row d-flex justify-content-left wow fadeIn">
                                <h2 class="my-4 h2">ENTER BETTER INGREDIENTS</h2>

                                <div class="container">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div data-role="dynamic-fields">
                                                <div class="form-inline">
                                                    <div class="form-group">
                                                        <!--<label class="sr-only" for="field-name">Field Name</label>-->
                                                        <input type="text" class="form-control" id="text-field" placeholder="Ingredient" name="arr">
                                                    </div>
                                                    
                                                    <button class="btn btn-danger" data-role="remove">
                                                        <i class="fa fa-minus" aria-hidden="true"></i>
                                                    </button>
                                                    <button class="btn btn-primary" data-role="add">
                                                        <i class="fa fa-plus" aria-hidden="true"></i>
                                                    </button>
                                                </div>  <!-- /div.form-inline -->
                                            </div>  <!-- /div[data-role="xdynamic-fields"] -->
                                        </div>  <!-- /div.col-md-12 -->
                                    </div>  <!-- /div.row -->
                                </div>
                                <!--</form>-->

                                <form>
                                    <button onclick="showInput()">SHOW_INGREDIENTS</button>
                                </form>
                                <p><span id='display'></span></p>
                            </div>
                            <!--</form>-->

                        </div>
                        <!--Content-->

                    </div>
                    <!--Grid column-->

                </div>
                <!--Grid row-->

                <hr>

                <!--Grid row-->

                <!--Grid column-->
                <div class="col-md-6 text-left">

                    <br>
                    <div class="form-group">
                        <label for="exampleFormControlTextarea1">Enter your instructions</label>
                        <!--<textarea class="form-control rounded-0" id="exampleFormControlTextarea1" rows="5"></textarea>-->
                        {{ wtf.form_field(form.rec_instruction, class_="form-control rounded-0", rows="5") }}
                    </div>
                    <h4 class="my-4 h4">Enter Nutritional Facts (Optional)</h4>
                    <br>
                    <!--<input class="form-control" type="text" placeholder="Calories" name=Calories>-->
                    {{ wtf.form_field(form.calories, class_="form-control") }}
                    <br>
                    <!--<input class="form-control" type="text" placeholder="Fat" name=Fat>-->
                    {{ wtf.form_field(form.fat, class_="form-control") }}
                    <br>
                    <!--<input class="form-control" type="text" placeholder="Cholesterol" name=Cholesterol>
                    -->
                    {{ wtf.form_field(form.cholesterol, class_="form-control") }}
                    <br>
                    <!--<input class="form-control" type="text" placeholder="Sodium" name=Sodium>-->
                    {{ wtf.form_field(form.sodium, class_="form-control") }}
                    <br>
                    <!--<button type="submit" class="btn btn-dark-green" value="Submit">Save</button>-->
                    {{ wtf.form_field(form.submit) }}
                </div>
                <!--Grid column-->

            </div>
            <!--Grid row-->
            <!--Grid row-->
            <!--Grid row-->
        <!--</form>-->
    </main>


</div>

<script type="text/javascript">
    $(function() {
        // Remove button click
        $(document).on(
            'click',
            '[data-role="dynamic-fields"] > .form-inline [data-role="remove"]',
            function(e) {
                e.preventDefault();
                $(this).closest('.form-inline').remove();
            }         
        );

        // Add button click
        $(document).on(
            'click',
            '[data-role="dynamic-fields"] > .form-inline [data-role="add"]',
            function(e) {
                e.preventDefault();
                var container = $(this).closest('[data-role="dynamic-fields"]');
                new_field_group = container.children().filter('.form-inline:first-child').clone();
                new_field_group.find('input').each(function(){
                    $(this).val('');
                });
                container.append(new_field_group);
            }
        );
    });

    function showInput() {
        var container = $(this).closest('[data-role="dynamic-fields"]');
        var x = document.getElementsByName("arr");
        var ingr_arr = new Array();


        var i;
        for (i = 0; i < x.length; i++) {
            ingr_arr.push(x[i]);
        }
        //document.write(ingr_arr[0].value);
        //document.write(ingr_arr[1].value);
        for (var k=0;k<ingr_arr.length;k++) {
            document.write(ingr_arr[k].value + ", ");
        }
        //document.write(document.getElementsByName("arr[]").length);
    
        
        //document.write(document.getElementById('arr[]').value);
    }
</script>

{% endblock %}
